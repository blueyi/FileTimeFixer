# Target time resolution spec: C++ and Python must match this
# Input: name_time (parsed from filename), exif_time (EXIF as UTC string)
# Output: target_time, scenario

cases:
  - name_time: ""
    exif_time: ""
    expected_target: ""
    expected_scenario: "None"
  - name_time: "2023-10-23 15:30:00"
    exif_time: ""
    expected_target: "2023-10-23 15:30:00"
    expected_scenario: "NameOnly"
  - name_time: ""
    exif_time: "2023-10-23T14:00:00"
    expected_target: "2023-10-23T14:00:00"
    expected_scenario: "ExifOnly"
  - name_time: "2023-10-23 15:30:00"
    exif_time: "2023-10-23T14:00:00"
    expected_target: "2023-10-23T14:00:00"
    expected_scenario: "BothUseEarliest"
  - name_time: "2023-10-23 10:00:00"
    exif_time: "2023-10-23T15:00:00"
    expected_target: "2023-10-23 10:00:00"
    expected_scenario: "BothUseEarliest"
  - name_time: "2023-10-23 12:00:00"
    exif_time: "2009-06-01T12:00:00"
    expected_target: "2023-10-23 12:00:00"
    expected_scenario: "ExifTooOldUseName"
  - name_time: "2023-10-23 15:30:00"
    exif_time: "2023-10-23T00:00:00"
    expected_target: "2023-10-23 15:30:00"
    expected_scenario: "SameDayExifMidnightUseName"
  - name_time: "2023-10-23 00:00:00"
    exif_time: "2023-10-23T14:30:00"
    expected_target: "2023-10-23T14:30:00"
    expected_scenario: "SameDayNameMidnightUseExif"
  - name_time: "2023-10-23 14:30:00"
    exif_time: "2023-10-23T14:30:00"
    expected_target: "2023-10-23T14:30:00"
    expected_scenario: "SameDayBothFullUseMorePrecise"
  - name_time: "2023-10-23 14:30:01"
    exif_time: "2023-10-23T14:30:00"
    expected_target: "2023-10-23 14:30:01"
    expected_scenario: "SameDayBothFullUseMorePrecise"
  # Name date-only, Exif has time -> use Exif
  - name_time: "2024-11-12"
    exif_time: "2024-11-12T15:18:32"
    expected_target: "2024-11-12T15:18:32"
    expected_scenario: "SameDayNameDateOnlyUseExif"
  # Exif date-only, Name has time -> use Name
  - name_time: "2024-11-12 10:00:00"
    exif_time: "2024-11-12"
    expected_target: "2024-11-12 10:00:00"
    expected_scenario: "SameDayExifDateOnlyUseName"
